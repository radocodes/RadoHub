@model RadoHub.ViewModels.CookingRecipes.CookingRecipesViewModel
@inject Microsoft.AspNetCore.Hosting.IWebHostEnvironment hostingEnv
@{
    string envDir;

    if (hostingEnv.EnvironmentName == "Development")
    {
        envDir = "stage";
    }
    else
    {
        envDir = "production";
    }

    ViewData["Title"] = "Cooking Recipes";
}

<div class="lifestyle-cooking">
    <div class="index">
        <header>
            <h1 class="title text-center">@ViewData["Title"]</h1>
        </header>

        <section class="all-recipes container">
            @foreach (var recipe in Model.Recipes)
            {
                <div class="row">
                    <aside class="col-sm-5">
                        @if (recipe.CoverImageFileName != null)
                        {
                            <img src="~/images/@envDir/cookingRecipes/@recipe.Id/coverImage/@recipe.CoverImageFileName" class="cover-image">
                        }
                    </aside>

                    <section class="col-sm-7">
                        <article class="article">
                            <div>
                                <h2 style="word-wrap: break-word">@recipe.Title</h2>
                            </div>
                            <div>
                                <p class="blog-index-info-icons"><i class="fas fa-pencil-alt"></i> @recipe.CreationDate.ToShortDateString() | <i class="fas fa-sync-alt"></i> @recipe.LastModifiedAt.ToShortDateString()</p>
                            </div>
                            <div class="text-body">
                                @if (recipe.ShortDescription.Length < 400)
                                {

                                    @recipe.ShortDescription
                                }
                                else
                                {
                                    @recipe.ShortDescription.Substring(0, 300)
                                }
                                ...
                            </div>
                            <a class="btn btn-dark" asp-area="LifeStyle" asp-controller="Cooking" asp-action="RecipeDetails" asp-route-id="@recipe.Id">READ MORE</a>
                        </article>

                    </section>
                </div>
            }
        </section>
    </div>
</div>


